(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t){},113:function(e,t){},136:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},173:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(14),i=a.n(r),o=a(22),l=a(20),c="LOCALE_SET";var u=Object(l.c)({locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lang:"en"},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return{lang:t.lang};default:return e}}}),m=a(74),d=Object(l.d)(u,Object(l.a)(m.a)),p=(a(96),a(98),a(189)),h=a(187),f={en:{"nav.mainpage":"Main","nav.dashboard":"List Up","nav.signin":"Signin","nav.hi":"Hi","nav.settings":"Settings","nav.logout":"Logout","nav.username":"Username","nav.password":"Password","nav.password_confirmation":"Password confirmation","nav.signup":"Sign up"},ru:{"nav.mainpage":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","nav.dashboard":"List Up","nav.signin":"\u0412\u043e\u0439\u0442\u0438","nav.hi":"\u041f\u0440\u0438\u0432\u0435\u0442","nav.settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","nav.logout":"\u0412\u044b\u0439\u0442\u0438","nav.username":"\u0418\u043c\u044f","nav.password":"\u041f\u0430\u0440\u043e\u043b\u044c","nav.password_confirmation":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","nav.signup":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}},g=a(4),E=a(9),b=a(7),v=a(8),w=a(11),O=a(10),y=a(12),j=a(3),C=a(188),N=(a(32),a(186)),S=a(30),k=a(77),L=a.n(k),x=new(function(){function e(){Object(b.a)(this,e),this.baseOptions=function(e){return{method:e,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("jwt")}}},this.baseLoadOptions=function(e,t){return{method:e,params:t,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("jwt")}}},this.authorizeOptions=function(e){return{method:e,headers:{"Content-Type":"application/json"}}}}return Object(v.a)(e,[{key:"axiosReq",value:function(e,t){return L()("/api/".concat(e),t)}},{key:"getLoadOptions",value:function(e,t){return this.axiosReq(e,this.baseLoadOptions("GET",t))}},{key:"get",value:function(e){return this.axiosReq(e,this.baseOptions("GET"))}},{key:"postAuthorize",value:function(e,t){return this.axiosReq(e,Object(S.a)({},this.authorizeOptions("POST"),{data:t}))}},{key:"post",value:function(e,t){return this.axiosReq(e,Object(S.a)({},this.baseOptions("POST"),{data:t}))}},{key:"put",value:function(e,t){return this.axiosReq(e,Object(S.a)({},this.baseOptions("PUT"),{data:t}))}},{key:"destroy",value:function(e){return this.axiosReq(e,this.baseOptions("DELETE"))}}]),e}());function _(e,t){this.id=e,this.data=t}_.prototype.List={show:function(e){return x.get("lists/".concat(e))},get:function(){return x.get("lists")},post:function(e){return x.post("lists",e)},put:function(e,t){return x.put("lists/".concat(e),t)},destroy:function(e){return x.destroy("lists/".concat(e))}},_.prototype.Username={get:function(){return x.get("usernames")}},_.prototype.Item={get:function(e){return x.getLoadOptions("items",e)},post:function(e){return x.post("items",e)},destroy:function(e){return x.destroy("items/".concat(e))}},_.prototype.Token={post:function(e){return x.postAuthorize("tokens",e)}},_.prototype.Signup={post:function(e){return x.postAuthorize("users",e)}};var D=new _,I=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={username:void 0},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.Username.get().then(function(t){e.setState({username:t.data})})}},{key:"render",value:function(){return s.a.createElement(j.t,{inNavbar:!0,nav:!0},s.a.createElement(j.i,{caret:!0,nav:!0},s.a.createElement(g.b,{defaultMessage:"Hi",id:"nav.hi"}),", ",this.state.username),s.a.createElement(j.h,{id:"dropdown",right:!0},s.a.createElement(j.g,null,s.a.createElement(g.b,{defaultMessage:"Settings",id:"nav.settings"})),s.a.createElement(j.g,null,s.a.createElement(N.a,{className:"main-link",to:"/dashboard"},s.a.createElement(g.b,{defaultMessage:"Main",id:"nav.mainpage"}))),s.a.createElement(j.g,{divider:!0}),this.props.renderRedirect(),s.a.createElement(j.g,{onClick:this.props.onHandleClearStorage},s.a.createElement(g.b,{defaultMessage:"Logout",id:"nav.logout"}))))}}]),t}(n.Component),M=function(){return s.a.createElement(j.n,null,s.a.createElement(j.o,null,s.a.createElement(N.a,{to:"/signup"},s.a.createElement("button",{className:"header-signup",type:"button"},s.a.createElement(g.b,{defaultMessage:"Signup",id:"nav.signup"})))),s.a.createElement(j.o,null,s.a.createElement(N.a,{to:"/"},s.a.createElement("button",{className:"header-signin",type:"button"},s.a.createElement(g.b,{defaultMessage:"Signin",id:"nav.signin"})))))},P=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).componentDidMount=function(){localStorage.getItem("jwt")&&a.setState({signedIn:!0})},a.setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return s.a.createElement(C.a,{to:"/"})},a.handleToggle=function(){a.setState({isOpen:!a.state.isOpen})},a.clearLocalStorage=function(){localStorage.removeItem("jwt")},a.handleClearStorageAndRedirect=function(){a.clearLocalStorage(),a.setRedirect()},a.handleClickChangeLanguage=function(e){return function(){a.props.setLocale(e)}},a.state={isOpen:!1,redirect:!1,signedIn:!1},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(j.p,{className:"header-navbar",color:"light",expand:"md",light:!0},s.a.createElement(j.f,null,s.a.createElement(j.q,null,s.a.createElement(g.b,{defaultMessage:"Listup",id:"nav.dashboard"})),s.a.createElement(j.r,{onClick:this.handleToggle}),s.a.createElement(j.e,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(j.n,{className:"ml-auto",navbar:!0},!this.state.signedIn&&s.a.createElement(M,null),this.state.signedIn&&s.a.createElement(I,{onHandleClearStorage:this.handleClearStorageAndRedirect,renderRedirect:this.renderRedirect}),s.a.createElement("div",{className:"\u0441hangeLanguage"},s.a.createElement("button",{className:"button-en",onClick:this.handleClickChangeLanguage("en"),type:"button"},"EN"),s.a.createElement("button",{className:"button-ru",onClick:this.handleClickChangeLanguage("ru"),type:"button"},"RU"))))))}}]),t}(n.Component);P.defaultProps={setLocale:function(){}};var T=Object(o.b)(function(e){return{setLocale:e.locale}},{setLocale:function(e){return function(t){localStorage.setItem("lang","en"),t(function(e){return{type:c,lang:e}}(e))}}})(P),z=(a(136),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).validate=function(){var e={},t=!0;return a.state.username||(t=!1,e.username="Username cannot be empty"),a.state.password||(t=!1,e.password="Password cannot be empty"),a.state.password.length<8&&(t=!1,e.password_length="Password is too short (minimum is 8 characters)"),a.setState({errors:e}),t},a.handleChange=function(e){var t,n=e.target;a.setState((t={},Object(E.a)(t,n.name,n.value),Object(E.a)(t,"errors",{}),t))},a.handleSubmit=function(e){e.preventDefault(),a.validate()&&D.Token.post({username:a.state.username,password:a.state.password}).then(function(e){return localStorage.setItem("jwt",e.data.jwt)}).then(function(){return a.props.history.push("/dashboard")})},a.state={username:"",password:"",errors:{}},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"signin"},s.a.createElement(T,null),s.a.createElement(j.f,null,s.a.createElement(j.d,{sm:{size:"6",offset:"3"}},s.a.createElement(j.a,null,s.a.createElement(j.c,{className:"signin-header"},"Sign in"),s.a.createElement(j.b,null,s.a.createElement(j.j,null,s.a.createElement(j.k,null,s.a.createElement(j.m,{for:"username"},"Username"),s.a.createElement(j.l,{id:"username",name:"username",onChange:this.handleChange,placeholder:"Username",type:"username",value:this.state.username}),s.a.createElement("div",{className:"text-danger"},this.state.errors.username)),s.a.createElement(j.k,null,s.a.createElement(j.m,{for:"password"},"Password"),s.a.createElement(j.l,{id:"password",name:"password",onChange:this.handleChange,placeholder:"Password",type:"password",value:this.state.password}),s.a.createElement("div",{className:"text-danger"},this.state.errors.password),s.a.createElement("div",{className:"text-danger"},this.state.errors.password_length)),s.a.createElement("button",{className:"signin-button",onClick:this.handleSubmit,type:"button"},"Sign in")))))))}}]),t}(n.Component));z.defaultProps={history:{}};var R=z,U=(a(138),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).handleValidation=function(){var e={},t=!0;return a.state.username||(t=!1,e.username="Username cannot be empty"),a.state.password||(t=!1,e.password="Password cannot be empty"),a.state.password_confirmation||(t=!1,e.password_confirmation="Password confirmation cannot be empty"),a.state.password_confirmation!==a.state.password&&(t=!1,e.password_confirmation_equal="Password confirmation must be equal to Password"),a.state.password.length<8&&(t=!1,e.password_length="Password is too short (minimum is 8 characters)"),a.setState({errors:e}),t},a.handleChange=function(e){var t,n=e.target;a.setState((t={},Object(E.a)(t,n.name,n.value),Object(E.a)(t,"exist",!0),Object(E.a)(t,"errorExist",""),Object(E.a)(t,"errors",Object(E.a)({},n.name,null)),t))},a.handleSubmit=function(e){e.preventDefault(),a.handleValidation()&&D.Signup.post({user:{username:a.state.username,password:a.state.password,password_confirmation:a.state.password_confirmation}}).catch(function(e){a.setState({errorExist:e.response.data.errors,exist:!1})}).then(function(){a.state.exist&&a.props.history.push("/")})},a.state={username:"",password:"",password_confirmation:"",errors:{},errorExist:"",exist:!0},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"signup"},s.a.createElement(T,null),s.a.createElement(j.f,null,s.a.createElement(j.d,{sm:{size:"6",offset:"3"}},s.a.createElement(j.a,null,s.a.createElement(j.c,{className:"signup-header"},s.a.createElement(g.b,{defaultMessage:"Sign up",id:"nav.signup"})),s.a.createElement(j.b,null,s.a.createElement(j.j,null,s.a.createElement(j.k,null,s.a.createElement(j.m,{for:"username"},s.a.createElement(g.b,{defaultMessage:"Username",id:"nav.username"})),s.a.createElement(j.l,{id:"username",name:"username",onChange:this.handleChange,placeholder:"Username",type:"username",value:this.state.username}),s.a.createElement("div",{className:"text-danger"},this.state.errors.username),s.a.createElement("div",{className:"text-danger"},this.state.errorExist)),s.a.createElement(j.k,null,s.a.createElement(j.m,{for:"password"},s.a.createElement(g.b,{defaultMessage:"Password",id:"nav.password"})),s.a.createElement(j.l,{id:"password",name:"password",onChange:this.handleChange,placeholder:"Password",type:"password",value:this.state.password}),s.a.createElement("div",{className:"text-danger"},this.state.errors.password),s.a.createElement("div",{className:"text-danger"},this.state.errors.password_length)),s.a.createElement(j.k,null,s.a.createElement(j.m,{for:"password"},s.a.createElement(g.b,{defaultMessage:"Password confirmation",id:"nav.password_confirmation"})),s.a.createElement(j.l,{id:"password_confirmation",name:"password_confirmation",onChange:this.handleChange,placeholder:"Password Confirmation",type:"password",value:this.state.password_confirmation}),s.a.createElement("div",{className:"text-danger"},this.state.errors.password_confirmation),s.a.createElement("div",{className:"text-danger"},this.state.errors.password_confirmation_equal)),s.a.createElement("button",{className:"signup-button",onClick:this.handleSubmit,type:"button"},s.a.createElement(g.b,{defaultMessage:"Sign up",id:"nav.signup"}))))))))}}]),t}(n.Component)),q=a(25),A=(a(140),a(80)),H=a.n(A),K=a(23),G=(a(58),function(e){return s.a.createElement(j.s,{className:"single-item"},s.a.createElement(j.d,{className:"item-content"},e.item.content),s.a.createElement(j.d,{sm:{offset:"1"}},s.a.createElement("button",{className:"destroy-item",onClick:e.onHandleDestroyItem(e.index,e.item),type:"button"},"Delete")))}),V=a(79),B=a.n(V),J=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).loadOptions=function(e,t){D.Item.get({inputValue:e}).then(function(e){var a=e.data,n=[];B.a.forEach(a,function(e){n.push({label:e,value:e})}),t(n)})},a.handleCreateItem=function(e){e.preventDefault(),D.Item.post({content:a.state.selectedOption.value,list_id:a.props.list.id}).then(function(e){var t=Object(q.a)(a.state.items).concat([e.data]);a.setState({items:t})})},a.handleChange=function(e){return function(t){a.setState(Object(E.a)({},e,t))}},a.handleDestroyItem=function(e,t){return function(){var n=Object(q.a)(a.state.items);n.splice(e,1),a.setState({items:n}),D.Item.destroy(t.id)}},a.handleKeyDown=function(e){"Enter"===e.key&&a.handleCreateItem(e)},a.state={selectedOption:"",items:[]},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.List.show(this.props.list.id).then(function(t){e.setState({items:t.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(j.s,null,s.a.createElement(j.d,{sm:{size:"10"}},s.a.createElement(H.a,{className:"async-creatable",isClearable:!0,loadOptions:this.loadOptions,name:"selectedOption",onChange:this.handleChange("selectedOption"),onKeyDown:this.handleKeyDown,value:this.state.selectedOption})),s.a.createElement("button",{className:"new-item",id:"button",onClick:this.handleCreateItem,type:"button"},"+")),s.a.createElement(K.TransitionGroup,{className:"all-items"},this.state.items.map(function(t,a){return s.a.createElement(K.CSSTransition,{classNames:"fade",key:t.id,timeout:700},s.a.createElement(G,{index:a,item:t,onHandleDestroyItem:e.handleDestroyItem}))})))}}]),t}(n.Component),F=a(82),Q=a.n(F),W=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).handleOpen=function(){a.setState(function(e){return{open:!e.open}})},a.state={open:!1,content:""},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(j.s,{className:"single-list"},s.a.createElement(j.d,{sm:{size:"1"}},this.props.index+1),s.a.createElement(j.d,{sm:{size:"3"}},s.a.createElement("div",{className:"title-label"},s.a.createElement(Q.a,{dataType:"text",handleSubmit:this.props.onHandleEdit(this.props.list),mode:"inline",showButtons:"true",value:this.props.list.title}))),s.a.createElement(j.d,null,s.a.createElement("div",{className:"create-date"},s.a.createElement(g.a,{day:"numeric",month:"long",value:new Date(this.props.list.createdAt),year:"numeric"}))),s.a.createElement(j.d,null,s.a.createElement("button",{className:this.state.open?"close-button":"create-item",onClick:this.handleOpen,type:"button"},this.state.open?"close":"+ item"),s.a.createElement("button",{className:"delete-list",onClick:this.props.onHandleDestroyList(this.props.index,this.props.list),type:"button"},"- list")),this.state.open&&s.a.createElement(j.d,{className:"open-item",sm:{size:"8",offset:"2"}},s.a.createElement("div",{className:"creatable-input"},s.a.createElement(J,{createNotification:this.props.createNotification,list:this.props.list}))))}}]),t}(n.Component),X=(a(171),a(173),a(24)),Y=new function e(){Object(b.a)(this,e),this.createNotification=function(e){return function(){switch(e){case"success":X.NotificationManager.success("Succesfully created");break;case"delete":X.NotificationManager.success("Succesfully deleted");break;case"edit":X.NotificationManager.success("Succesfully updated")}}}},Z=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).validateList=function(){var e={},t=!0;return a.state.title||(t=!1,e.title_length="Title cannot be empty (minimum is 1 character)"),a.setState({errors:e}),t},a.handleChange=function(e){var t,n=e.target;a.setState((t={},Object(E.a)(t,n.name,n.value),Object(E.a)(t,"errors",{}),t))},a.handleEdit=function(e){return function(t){D.List.put(e.id,{title:t.value}).then(Y.createNotification("edit"))}},a.handleDestroyList=function(e,t){return function(){var n=Object(q.a)(a.state.lists);n.splice(e,1),a.setState({lists:n}),D.List.destroy(t.id).then(Y.createNotification("delete"))}},a.handleCreateList=function(e){e.preventDefault(),a.validateList()&&D.List.post({list:{title:a.state.title}}).then(function(e){var t=Object(q.a)(a.state.lists).concat([e.data]);a.setState({lists:t})}).then(Y.createNotification("success"))},a.handleKeyDown=function(e){"Enter"===e.key&&a.handleCreateList(e)},a.state={lists:[],title:"",errors:{}},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.List.get().then(function(t){e.setState({lists:t.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement(j.f,{className:"list"},s.a.createElement(j.d,{sm:{size:"8",offset:"2"}},s.a.createElement(j.j,null,s.a.createElement(j.k,null,s.a.createElement(j.s,null,s.a.createElement(j.d,{sm:{size:"10"}},s.a.createElement(j.l,{className:"title-input",id:"title",name:"title",onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:"Add List",value:this.state.title}),s.a.createElement("div",{className:"text-danger"},this.state.errors.title_length)),s.a.createElement(j.d,{sm:{size:"2"}},s.a.createElement("button",{className:"create-list",id:"list_button",onClick:this.handleCreateList,type:"button"},"+")))))),s.a.createElement(j.d,{sm:{size:"8",offset:"2"}},s.a.createElement(j.s,{className:"table-header"},s.a.createElement(j.d,{sm:{size:"1"}},"#"),s.a.createElement(j.d,{sm:{size:"3"}},"List name"),s.a.createElement(j.d,null,"Create date"),s.a.createElement(j.d,null,"Actions")),s.a.createElement(K.TransitionGroup,{className:"todo-list"},this.state.lists.sort(function(e,t){return t.id-e.id}).map(function(t,a){return s.a.createElement(K.CSSTransition,{classNames:"fade",key:t.id,timeout:500},s.a.createElement(W,{createNotification:e.createNotification,index:a,key:t.id,list:t,onHandleDestroyList:e.handleDestroyList,onHandleEdit:e.handleEdit}))}))),s.a.createElement(X.NotificationContainer,null))}}]),t}(n.Component),$=function(){return s.a.createElement("div",{className:"dashboard"},s.a.createElement(T,null),s.a.createElement(Z,null))};var ee=Object(o.b)(function(e){return{lang:e.locale.lang}})(function(e){var t=e.lang;return s.a.createElement(g.c,{locale:t,messages:f[t]},s.a.createElement(p.a,null,s.a.createElement("div",null,s.a.createElement(h.a,{component:R,exact:!0,path:"/"}),s.a.createElement(h.a,{component:U,path:"/signup"}),s.a.createElement(h.a,{component:$,path:"/dashboard"}))))}),te=a(84),ae=a.n(te),ne=a(85),se=a.n(ne);Object(g.d)(ae.a),Object(g.d)(se.a),i.a.render(s.a.createElement(o.a,{store:d},s.a.createElement(ee,null)),document.getElementById("root"))},32:function(e,t,a){},58:function(e,t,a){},75:function(e,t){},87:function(e,t,a){e.exports=a(185)},98:function(e,t,a){}},[[87,2,1]]]);
//# sourceMappingURL=main.54e431ad.chunk.js.map